<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
       integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <style>
      body {
          background-color: aqua;
      }

      button {
          float: right;
      }

      .btn-sm {
          border: 1px solid;
      }

      .inwidth {
          width: auto;
      }
      .input_right{
          float: right;
      }
      .form-control {
          display: block;
      }
  </style>
  </head>
  <body>
     <header id="main-header" class="bg-success text-white p-4 mb-3"></header>
    <div class="container">
        <div class="row">
          <div class="col-md-6">
              <h1 id="header-title">Item Lister</h1>
          </div>
          <div class="col-md-6 align-self-center">
              <input type="text" class="form-control" id="filter" placeholder="Search Items...">
          </div>
        </div>
      </div>
    </header>
    <div class="container">
     <div id="main" class="card card-body">
      <h2 class="title">Add Items</h2>
      <form id="addForm" class="form-inline mb-3">
        <input type="text" class="form-control mr-2" id="item">
        <input type="submit" class="btn btn-dark" value="Submit">
      </form>
      <div class="btn_cont">
      <h2 class="title">Items</h2>
      <h2 class="title">Items</h2>
            <ul id="items" class="list-group">
                <li class="list-group-item">Item 1
                    <button class="btn btn-danger btn-sm input_right delete">X</button>
                    <button class="btn btn-sm input_right edit">Edit</button>
                </li>
                <li class="list-group-item">Item 2
                    <button class="btn btn-danger btn-sm input_right delete">X</button>
                    <button class="btn btn-sm input_right edit">Edit</button>
                </li>
                <li class="list-group-item">Item 3
                    <button class="btn btn-danger btn-sm input_right delete">X</button>
                    <button class="btn btn-sm input_right edit">Edit</button>
                </li>
                <li class="list-group-item">Item 4
                    <button class="btn btn-danger btn-sm input_right delete">X</button>
                    <button class="btn btn-sm input_right edit">Edit</button>
                </li>
            </ul>
      </div>
     </div>
    </div>
   <script>
        let form = document.getElementById('addForm');
        let itemList = document.getElementById('items');
        let filter = document.getElementById('filter');
    //form submit
        form.addEventListener('submit', addItem);
        itemList.addEventListener('click', removItem);
        filter.addEventListener('keyup', filterItems);

    // //add Iteminput_right
    function addItem(e){
        // let form = document.getElementById('addForm');
         //let itemlist = document.getElementById('#items');

        form.addEventListener('submit',addItem);
        e.preventDefault();
        let newitem = document.getElementById('item').value;
        //console.log(1);
        let li =document.createElement('li');
        li.className = 'list-group-item';
      //  console.log(1);
        
        li.appendChild(document.createTextNode(newitem));
        itemList.appendChild(li);

    //     //add delete button
        let deletebtn = document.createElement('button');
        deletebtn.className = 'btn btn-danger btn-sm float-right delete';
        //append text Node
        deletebtn.appendChild(document.createTextNode('X'));
        //append button to li
        li.appendChild(deletebtn);
        console.log(deletebtn);
        console.log(form);
    }
        //remove items
         function removItem(e){
             //e.preventDefault();
             if(e.target.classList.contains('delete')){
                if(confirm('Are you sure?')){
                    let li = e.target.parentElement;
                    itemList.removeChild(li);
                }
                else{
                  console.log('dont remove');
                }
                //console.log(2);
             }

         }
         //filteritems
         function filterItems(e){
            let text = e.target.value.toLowerCase();
            //get list
            let item1 = itemList.getElementsByTagName('li');
            console.log(items);
            //convert to an array
             Array.from(item1).forEach (function(item){
                let itemName = item.firstChild.textContent;
                if(itemName.toLowerCase().indexOf(text) != -1){
                    item.style.display = "block";
                }
                else{
                    item.style.display = 'none';
                }
                console.log(itemName);
            });
            

         }

    </script>

  </body>
</html>