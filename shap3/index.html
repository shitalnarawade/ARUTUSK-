<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <style>
        body {
            background-color: aqua;
        }

        button {
            float: right;
        }

        .btn-sm {
            border: 1px solid;
        }

        .inwidth {
            width: auto;
        }

        .input_right {
            float: right;
        }

        .form-control {
            display: block;
        }
    </style>
</head>

<body>
    <header id="main-header" class="bg-success text-white p-4 mb-3">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h1 id="header-title">Item Lister</h1>
                </div>
                <div class="col-md-6 align-self-center">
                    <input type="text" class="form-control" id="filter" placeholder="Search Items...">
                </div>
            </div>
        </div>
    </header>
    <div class="container">
        <div id="main" class="card card-body">
            <h2 class="title">Book An Appointment</h2>
            <!-- <div class="msg msg-1">Please enter all filds</div> -->
            <form id="addForm" class="col-auto" >
                <label for="username">Username:</label>
                <input type="text" name="fname" class="form-control mr-2 inwidth" id="name">
                <label for="email">Email:</label>
                <input type="email" name="email" class="form-control mr-2 inwidth" id="email">
                
                <label for="phonenumber">Phone No:</label>
                <input type="tel" name="phonenum" class="form-control mr-2 inwidth" id="phonenumber">

                <input type="button" class="btn btn-dark  btn_su" onclick="submitForm()" value="Submit" id="btn_submit">
            </form>
            <div id="divcontainer"></div>
            <!-- <ul id="listOfusers"></ul> -->
            <div class="container">

                <h2 class="title">Items</h2>
                <ul id="items" class="list-group">
                    <li class="list-group-item">Item 1
                        <button class="btn btn-danger btn-sm input_right delete">X</button>
                        <button class="btn btn-sm input_right edit">Edit</button>
                    </li>
                    <li class="list-group-item">Item 2
                        <button class="btn btn-danger btn-sm input_right delete">X</button>
                        <button class="btn btn-sm input_right edit">Edit</button>
                    </li>
                    <li class="list-group-item">Item 3
                        <button class="btn btn-danger btn-sm input_right delete">X</button>
                        <button class="btn btn-sm input_right edit">Edit</button>
                    </li>
                    <li class="list-group-item">Item 4
                        <button class="btn btn-danger btn-sm input_right delete">X</button>
                        <button class="btn btn-sm input_right edit">Edit</button>
                    </li>
                </ul>
            </div>
        </div>

        <script type="text/javascript">

            function submitForm() {
                 //e.preventDefault();
                let name = document.getElementById('name').value;
                let email = document.getElementById('email').value;
                let phonenumber = document.getElementById('phonenumber').value;

                let myobj = {
                    name: name,
                    email: email,
                    phonenumber: phonenumber

                }

                let existingData = JSON.parse(localStorage.getItem('userDrtails')) || [];
                existingData.push(myobj);
                localStorage.setItem('userDetails', JSON.stringify(existingData));
                showUserOnscreen();
            }




            function showUserOnscreen() {
                let divcontainer = document.getElementById('divcontainer');
                divcontainer.innerHTML = ' ';
                let storedData = JSON.parse(localStorage.getItem('userDetails')) || [];

                storedData.forEach(function(myobj, index) {
                    let newDiv = document.createElement('div');
                    newDiv.innerHTML = `<p>Name: ${myobj.name}, Email: ${myobj.email}, phonenumber: ${myobj.phonenumber}, 
                    <button onclick="deleteEntry (${index})">Delete</button></p>`;
                    divcontainer.appendChild(newDiv);

                });
            }

            function deleteEntry(index) {
                let storedData = JSON.parse(localStorage.getItem('userDetails')) || [];
                storedData.splice(index, 1);
                localStorage.setItem('userDetails', JSON.stringify(storedData));
                showUserOnscreen();
            }

            showUserOnscreen();





        </script>


</body>

</html>